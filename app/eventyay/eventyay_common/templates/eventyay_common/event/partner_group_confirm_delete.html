{% extends "eventyay_common/event/settings_base.html" %}
{% load i18n %}

{% block title %}{% trans "Delete Sponsor Group" %}{% endblock %}

{% block inside %}
<div class="panel panel-danger" style="margin: 0;">
    <div class="panel-heading" style="background-color: #d9534f; color: white; padding: 15px;">
        <h3 class="panel-title" style="font-size: 16px; margin: 0;">
            <i class="fa fa-exclamation-triangle"></i> {% trans "Confirm Deletion" %}
        </h3>
    </div>
    <div class="panel-body" style="padding: 20px;">
        <div class="alert alert-danger" style="border-left: 4px solid #d9534f;">
            <h4><i class="fa fa-warning"></i> <strong>{% trans "Warning!" %}</strong></h4>
            <p>
                {% blocktranslate with name=sponsor_group.name count=sponsor_group.partners.count %}
                    You are about to permanently delete the sponsor group <strong>"{{ name }}"</strong> 
                    and all <strong>{{ count }}</strong> partner(s) within it.
                {% endblocktranslate %}
            </p>
            <p class="text-danger">
                <strong>{% trans "This action cannot be undone!" %}</strong>
            </p>
        </div>

        <div class="panel panel-default" style="margin-top: 20px;">
            <div class="panel-heading" style="background-color: #f5f5f5; padding: 12px 15px;">
                <strong>{{ sponsor_group.name }}</strong>
                <span class="label label-default pull-right">
                    {{ sponsor_group.partners.count }} partner{{ sponsor_group.partners.count|pluralize }}
                </span>
            </div>
            <div class="panel-body">
                {% if sponsor_group.partners.exists %}
                <p><strong>{% trans "Partners that will be deleted:" %}</strong></p>
                <ul class="list-unstyled" style="margin-left: 15px;">
                    {% for partner in sponsor_group.partners.all %}
                    <li style="margin-bottom: 5px;">
                        <i class="fa fa-user" style="color: #999;"></i> {{ partner.name }}
                        {% if partner.logo %}
                        <span class="label label-info">Has logo</span>
                        {% endif %}
                    </li>
                    {% endfor %}
                </ul>
                {% else %}
                <p class="text-muted"><i class="fa fa-info-circle"></i> {% trans "No partners in this group" %}</p>
                {% endif %}
            </div>
        </div>

        <form action="" method="post" style="margin-top: 20px;">
            {% csrf_token %}
            <div class="form-group">
                <button type="submit" class="btn btn-danger btn-lg">
                    <i class="fa fa-trash"></i> {% trans "Yes, Delete This Group and All Partners" %}
                </button>
                <a href="{% url 'eventyay_common:event.update' organizer=request.organizer.slug event=request.event.slug %}#partner-tab" 
                   class="btn btn-default btn-lg">
                    <i class="fa fa-arrow-left"></i> {% trans "Cancel" %}
                </a>
            </div>
        </form>
    </div>
</div>
{% endblock %}
