{% extends "agenda/base.html" %}

{% load compress %}
{% load i18n %}
{% load static %}

{% block title %}{{ profile.user.get_display_name }} ::{% endblock title %}
{% block meta_title %}{{ profile.user.get_display_name }}{% endblock meta_title %}
{% block social_title %}{{ profile.user.get_display_name }}{% endblock social_title %}
{% block meta_image %}
    {% if profile.user.avatar_url and request.event.cfp.request_avatar %}
        <meta property="thumbnail" content="{{ profile.urls.social_image.full }}">
        <meta property="og:image" content="{{ profile.urls.social_image.full }}">
    {% endif %}
{% endblock meta_image %}
{% block alternate_link %}
    <link rel="alternate" type="application/json" title="{{ request.event.name|event_localize }} API" href="{{ request.event.api_urls.speakers.full }}{{ profile.code }}" />
{% endblock alternate_link %}

{% block agenda_custom_header %}
<script id="pretalx-messages" data-logged-in="{% if request.user.is_anonymous %}false{% else %}true{% endif %}" src="{{ request.event.urls.schedule }}widget/messages.js"></script>
{% endblock agenda_custom_header %}

{% block agenda_content %}
<div>
    <script>
    window.__SCHEDULE_DATA__ = {{ schedule_json|safe }};
    </script>
    <script type="text/javascript" src="{{ request.event.urls.schedule_widget_script }}" async></script>
    {% with event_tz=request.event.settings.timezone|default:request.event.timezone %}
    <pretalx-schedule event-url="{{ request.event.urls.base }}" locale="{{ request.LANGUAGE_CODE }}" view="speaker" speaker-code="{{ profile.user.code }}" style="--pretalx-clr-primary: {{ request.event.visible_primary_color }}"></pretalx-schedule>
    {% endwith %}
</div>
{% endblock agenda_content %}
