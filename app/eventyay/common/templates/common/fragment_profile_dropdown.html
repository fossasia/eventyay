{% load i18n %}

<li class="nav-item">
    <details class="dropdown fix-height" id="profile-dropdown">
        <summary class="header-nav">
            <i class="fa fa-user user-icon"></i>
            <span class="user-name-desktop">{{ request.user.get_full_name }}</span>
            <span class="user-name-mobile">
                {% with given_name=request.user.get_full_name.split|first %}
                    {{ given_name|slice:":10" }}{% if given_name|length > 12 %}..{% endif %}
                {% endwith %}
            </span>
            <i class="fa fa-caret-down user-caret"></i>
        </summary>
        <div class="dropdown-content dropdown-content-sw">
            <details class="dropdown">
                <summary class="dropdown-item">
                    <i class="fa fa-tachometer"></i> {% translate "Dashboard" %}
                </summary>
                <div class="dropdown-content dropdown-content-w">
                    <a class="dropdown-item" href="{{ base_path }}/common/">
                        <i class="fa fa-tachometer"></i> {% translate "Main dashboard" %}
                    </a>
                    <a class="dropdown-item" href="{{ base_path }}/control/">
                        <i class="fa fa-ticket"></i> {% translate "Tickets" %}
                    </a>
                    <a class="dropdown-item" href="{{ base_path }}/orga/event/">
                        <i class="fa fa-microphone"></i> {% translate "Talks" %}
                    </a>
                </div>
            </details>

            <a class="dropdown-item" href="{{ base_path }}/common/orders/">
                <i class="fa fa-shopping-cart"></i> {% translate "My orders" %}
            </a>
            <a class="dropdown-item" href="{{ base_path }}/common/sessions/">
                <i class="fa fa-sticky-note-o"></i> {% translate "My sessions" %}
            </a>
            <a class="dropdown-item" href="{{ base_path }}/common/events/">
                <i class="fa fa-calendar"></i> {% translate "My Events" %}
            </a>
            <a class="dropdown-item" href="{{ base_path }}/common/organizers/">
                <i class="fa fa-users"></i> {% translate "Organizers" %}
            </a>

            <hr />

            <a class="dropdown-item" href="{{ base_path }}/common/account/">
                <i class="fa fa-user-circle"></i> {% translate "Account" %}
            </a>
            {% if request.user.is_staff and staff_session %}
                <a class="dropdown-item" href="{{ base_path }}/admin/">
                    <i class="fa fa-cog"></i> {% translate "Admin" %}
                </a>
            {% endif %}

            <hr />

            <a class="dropdown-item" href="{{ base_path }}/common/logout/?back={{ request.get_full_path|urlencode }}">
                <i class="fa fa-sign-out"></i> {% translate "Logout" %}
            </a>
        </div>
    </details>
</li>
